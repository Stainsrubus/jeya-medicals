import"../chunks/Bg9kRutz.js";import"../chunks/69_IOA4Y.js";import{w as Ot,p as St,b as ne,g as r,u as Pt,ah as Kt,d,s,a as Tt,c,r as u,f as h,n as $,t as re,e as Je,X as J,$ as Qt}from"../chunks/DUB8bsv0.js";import{s as ue}from"../chunks/3nqkJHLA.js";import{a as e,t as x,c as Z,b as g,h as Ht}from"../chunks/DzHOuBan.js";import{i as Bt}from"../chunks/B06qfcxv.js";import{p as z,i as ie,s as kt,a as ve,e as Lt,d as Ee,c as _t}from"../chunks/DOmRzZIo.js";import{i as qt,g as Mt}from"../chunks/CSUTd-D0.js";import{R as Gt}from"../chunks/B_rXABv2.js";import{z as We}from"../chunks/K85sQPP8.js";import{e as Xt,i as Yt}from"../chunks/DJVbMBk7.js";import{c as n}from"../chunks/yzD5jbIF.js";import{s as wt}from"../chunks/BHIRq8YZ.js";import{d as zt}from"../chunks/DbFrp4aS.js";import{_ as ke}from"../chunks/c3aSOx29.js";import{P as Vt,T as It}from"../chunks/BTrfwMzp.js";import{B as ze}from"../chunks/CJvYq0KN.js";import{R as ht,D as xt,a as bt,b as yt}from"../chunks/CeRZbImN.js";import{I as Oe}from"../chunks/CJXCr1W0.js";import{L as Ne}from"../chunks/DSP103xp.js";import{R as Wt,S as Jt,a as Zt,G as er,b as jt}from"../chunks/D12_SmHx.js";import{S as tr}from"../chunks/CJEhnKgE.js";import{T as rr,a as ar,b as Et,c as Fe,d as or,e as Le}from"../chunks/4wux5xE3.js";import{i as Ct}from"../chunks/DW9MwCpa.js";import{q as st}from"../chunks/tFu-0XeD.js";import{I as Ue}from"../chunks/CHPYNWro.js";import{o as sr}from"../chunks/CHqt2rTE.js";import{t as de}from"../chunks/CF63kifO.js";import{T as lr}from"../chunks/CH3kDqIK.js";/* empty css                */import{c as Ut}from"../chunks/B6Jqkcen.js";import{c as lt}from"../chunks/Dw1g5TC4.js";import{s as nr,z as Dt,d as ir,a as dr}from"../chunks/BTJgjqp0.js";import{T as cr}from"../chunks/B1uj5A9L.js";import{T as ur,a as Rt}from"../chunks/B_RvuQCl.js";import{T as At}from"../chunks/CBD-qeiU.js";const ot=Ot({mode:"list",id:"",name:"",description:"",code:0,image:""}),Ft=We.object({name:We.string({message:"Name is required"}).max(50),description:We.string({message:"Description is required"}),code:We.number({message:"Code is required"}),image:We.string({message:"Image is required"})});var vr=x("<!> <!> <!> <!> <!> <!>",1),mr=x('<button><div class="p-4 shadow-lg rounded-lg border border-gray-100 w-[85px] flex justify-center items-center"><img class="h-[40px] rounded-sm cursor-pointer"></div></button>'),fr=(Ce,N,j,Q)=>{Lt(j.categoryStore,z({...N(),mode:"create",id:r(Q)._id,name:r(Q).name,code:r(Q).code,description:r(Q).description,image:r(Q).image})),Mt(`/hidden-admin-base-007/dashboard/categories?mode=create&id=${r(Q)._id}`)},$r=(Ce,N,j,Q)=>(d(N,!0),d(j,z(r(Q)._id))),pr=x('<div class="flex items-center gap-4"><button><!></button> <button><!></button></div>'),gr=x("<!> <!> <!> <!> <!> <!>",1),_r=x("<!> <!> <!>",1),hr=x('Do you want to delete this Category? <span class="text-sm font-semibold">This action cannot be undone.</span>',1),xr=x('<div class="flex justify-center items-center"><!></div> <!>',1),br=x('<!> <div class="flex gap-4 justify-around"><!> <!></div>',1),yr=x('<!> <div><!></div> <div class="flex gap-4 justify-end"><!></div>',1),Pr=x('<span class="capitalize"> </span>'),wr=x("<!> <!>",1),Cr=x("<!> <!>",1),Sr=x("<div><!></div>"),Tr=x('<!> <form class="my-6"><div class="grid gap-4"><div class="grid gap-2"><!> <!></div></div> <div class="grid gap-4 mt-4"><div class="flex flex-col gap-2"><!> <!></div></div></form> <div class="flex gap-4 justify-around"><!> <!></div>',1),kr=x('<div class="mt-6 text-maintext"><div class="w-[50%] ml-auto mb-4 flex items-center gap-5"><div class="grid gap-2 w-full relative"><!> <!></div></div> <div class="overflow-x-auto h-[calc(100vh-300px)] overflow-y-auto hidescrollbarthumb"><!></div> <!> <!> <!> <!></div>');function Mr(Ce,N){St(N,!0);const[j,Q]=kt(),w=()=>ve(Re,"$query",j),_=()=>ve(N.categoryStore,"$categoryStore",j),Se=()=>ve(nt,"$deleteMutation",j),H=()=>ve(Ze,"$toggleActiveMutation",j),Te=()=>ve(et,"$disableMutation",j);async function B(t=10,p=1,i=""){return(await ke.get(`/productcategory/all?limit=${t}&page=${p}&q=${i}`)).data}async function F(){return(await ke.get("/productcategory/activeStatus")).data}sr(()=>{F()});let T=ne(1),me=5,fe=ne(""),L=ne(!1),xe=ne(""),ae=ne(!1),Me=ne(!1),ee=ne(""),E=ne("date"),U=ne(z(r(E)==="date"?2:"12:00"));Pt(()=>{r(E)==="date"?d(U,2):d(U,"12:00")});async function Ke(t,p){try{await ke.delete(`/productcategory/${t}`,{params:{permanent:!1}}),de.success(`Category ${p?"deactivated":"activated"} successfully`),w().refetch()}catch{de.error("Failed to update Category status")}}let De;function qe(){clearTimeout(De),De=setTimeout(async()=>{d(T,1),w().refetch()},500)}Ut({queryKey:["Status fetch"],queryFn:()=>F()});const Re=Ut({queryKey:["category fetch",qe],queryFn:()=>B(me,r(T),r(fe)),staleTime:0});Kt(Re,t=>{var i;if(!((i=t==null?void 0:t.data)!=null&&i.categories)||t.data.categories.length===0)return!1;const p=t.data.categories.filter(G=>G.active).length;return p>t.data.categories.length-p});const Ze=lt({mutationFn:({active:t,reason:p})=>ke.delete(`/productcategory/activeStatus?active=${t}&reason=${p}`),onSuccess({data:t}){st.refetchQueries({queryKey:["category fetch"]}),t!=null&&t.status&&(de((t==null?void 0:t.message)??"Category status updated ✅"),d(Me,!1))},onError(t){console.error("Error updating category status:",t)}}),et=lt({mutationFn:({id:t,permanent:p,disabledUntil:i})=>ke.delete(`/productcategory/${t}?permanent=${p}&reEnable=${i}&type=${r(E)}`),onSuccess({data:t}){st.refetchQueries({queryKey:["category fetch"]}),t!=null&&t.status&&(de((t==null?void 0:t.message)??"Category Updated ✅"),d(ae,!1),d(xe,""))},onError(t){console.error("Error:",t)}}),nt=lt({mutationFn:({id:t,permanent:p})=>ke.delete(`/productcategory/permanent/${t}`),onSuccess({data:t}){st.refetchQueries({queryKey:["category fetch"]}),de((t==null?void 0:t.message)??"Category Deleted ✅"),d(L,!1),d(xe,"")},onError(t){console.error("Error:",t)}});function it(t){const[p,i]=t.split(":").map(Number),G=p>=12?"PM":"AM";return`${p%12||12}:${String(i).padStart(2,"0")} ${G}`}var Qe=kr(),Ie=c(Qe),He=c(Ie),Be=c(He);Oe(Be,{type:"text",required:!0,class:"pr-10",placeholder:"Search Category",oninput:qe,get value(){return r(fe)},set value(t){d(fe,z(t))}});var dt=s(Be,2);{var ct=t=>{Ue(t,{icon:"iconamoon:search",class:"absolute right-2 bottom-2.5 cursor-pointer text-gray-400 text-xl"})},ut=t=>{Ue(t,{icon:"mdi:clear-outline",class:"absolute right-2 bottom-2.5 cursor-pointer text-gray-400 text-xl",$$events:{click:()=>{d(fe,""),qe()}}})};ie(dt,t=>{r(fe)?t(ut,!1):t(ct)})}u(He),u(Ie);var je=s(Ie,2),tt=c(je);n(tt,()=>rr,(t,p)=>{p(t,{children:(i,G)=>{var X=_r(),oe=h(X);{var be=o=>{var l=Z(),P=h(l);n(P,()=>It,(k,S)=>{S(k,{children:(C,b)=>{$();var m=g("Loading....");e(C,m)},$$slots:{default:!0}})}),e(o,l)},ye=o=>{var l=Z(),P=h(l);{var k=S=>{var C=Z(),b=h(C);n(b,()=>It,(m,te)=>{te(m,{class:"text-center w-full text-xs",children:(se,Y)=>{$();var le=g("No Products Found!");e(se,le)},$$slots:{default:!0}})}),e(S,C)};ie(P,S=>{var C,b;((b=(C=w())==null?void 0:C.data)==null?void 0:b.total)===0&&S(k)},!0)}e(o,l)};ie(oe,o=>{w().isLoading?o(be):o(ye,!1)})}var $e=s(oe,2);n($e,()=>ar,(o,l)=>{l(o,{children:(P,k)=>{var S=Z(),C=h(S);n(C,()=>Et,(b,m)=>{m(b,{children:(te,se)=>{var Y=vr(),le=h(Y);n(le,()=>Fe,(f,v)=>{v(f,{class:"w-[100px]",children:(q,V)=>{$();var I=g("Sl.No");e(q,I)},$$slots:{default:!0}})});var pe=s(le,2);n(pe,()=>Fe,(f,v)=>{v(f,{children:(q,V)=>{$();var I=g("Category Name");e(q,I)},$$slots:{default:!0}})});var ce=s(pe,2);n(ce,()=>Fe,(f,v)=>{v(f,{children:(q,V)=>{$();var I=g("Code");e(q,I)},$$slots:{default:!0}})});var ge=s(ce,2);n(ge,()=>Fe,(f,v)=>{v(f,{children:(q,V)=>{$();var I=g("Image");e(q,I)},$$slots:{default:!0}})});var _e=s(ge,2);n(_e,()=>Fe,(f,v)=>{v(f,{children:(q,V)=>{$();var I=g("Active");e(q,I)},$$slots:{default:!0}})});var y=s(_e,2);n(y,()=>Fe,(f,v)=>{v(f,{children:(q,V)=>{$();var I=g("Actions");e(q,I)},$$slots:{default:!0}})}),e(te,Y)},$$slots:{default:!0}})}),e(P,S)},$$slots:{default:!0}})});var a=s($e,2);n(a,()=>or,(o,l)=>{l(o,{children:(P,k)=>{var S=Z(),C=h(S);Xt(C,1,()=>{var b;return((b=w().data)==null?void 0:b.categories)||[]},Yt,(b,m,te)=>{var se=Z(),Y=h(se);n(Y,()=>Et,(le,pe)=>{pe(le,{children:(ce,ge)=>{var _e=gr(),y=h(_e);n(y,()=>Le,(O,D)=>{D(O,{children:(R,he)=>{$();var M=g();re(()=>ue(M,te+1+(r(T)-1)*me)),e(R,M)},$$slots:{default:!0}})});var f=s(y,2);n(f,()=>Le,(O,D)=>{D(O,{children:(R,he)=>{$();var M=g();re(()=>ue(M,r(m).name)),e(R,M)},$$slots:{default:!0}})});var v=s(f,2);n(v,()=>Le,(O,D)=>{D(O,{children:(R,he)=>{$();var M=g();re(()=>ue(M,r(m).code)),e(R,M)},$$slots:{default:!0}})});var q=s(v,2);n(q,()=>Le,(O,D)=>{D(O,{children:(R,he)=>{var M=Z(),K=h(M);{var Pe=A=>{var W=mr();W.__click=()=>{const Ae=window.open();if(Ae){const mt=`<img src="${Ct+r(m).image}" alt="${r(m).name}" />`;Ae.document.write(mt),Ae.document.title=r(m).name}};var Ye=c(W),Ve=c(Ye);u(Ye),u(W),re(()=>{wt(Ve,"src",Ct+r(m).image),wt(Ve,"alt",r(m).name)}),e(A,W)},we=A=>{var W=g("-");e(A,W)};ie(K,A=>{r(m).image?A(Pe):A(we,!1)})}e(R,M)},$$slots:{default:!0}})});var V=s(q,2);n(V,()=>Le,(O,D)=>{D(O,{children:(R,he)=>{tr(R,{class:"text-right",get checked(){return r(m).active},onCheckedChange:()=>Ke(r(m)._id,r(m).active)})},$$slots:{default:!0}})});var I=s(V,2);n(I,()=>Le,(O,D)=>{D(O,{children:(R,he)=>{var M=pr(),K=c(M);K.__click=[fr,_,N,m];var Pe=c(K);Ue(Pe,{icon:"basil:edit-outline",class:"hover:text-red-500 text-xl"}),u(K);var we=s(K,2);we.__click=[$r,L,xe,m];var A=c(we);Ue(A,{icon:"mingcute:delete-2-fill",class:"hover:text-red-500 text-xl"}),u(we),u(M),e(R,M)},$$slots:{default:!0}})}),e(ce,_e)},$$slots:{default:!0}})}),e(b,se)}),e(P,S)},$$slots:{default:!0}})}),e(i,X)},$$slots:{default:!0}})}),u(je);var Ge=s(je,2);n(Ge,()=>ht,(t,p)=>{p(t,{get open(){return r(L)},$$events:{openChange:i=>d(L,z(i))},children:(i,G)=>{var X=Z(),oe=h(X);n(oe,()=>xt,(be,ye)=>{ye(be,{children:($e,a)=>{var o=br(),l=h(o);n(l,()=>bt,(C,b)=>{b(C,{class:"text-center",children:(m,te)=>{var se=xr(),Y=h(se),le=c(Y);Ue(le,{icon:"jam:triangle-danger-f",class:"text-red-500 text-6xl"}),u(Y);var pe=s(Y,2);n(pe,()=>yt,(ce,ge)=>{ge(ce,{class:"flex flex-col gap-2 justify-center items-center text-center",children:(_e,y)=>{$();var f=hr();$(),e(_e,f)},$$slots:{default:!0}})}),e(m,se)},$$slots:{default:!0}})});var P=s(l,2),k=c(P);ze(k,{class:"bg-red-500 text-white font-bold w-full hover:bg-red-400",onclick:()=>{Se().mutate({id:r(xe),permanent:!0})},children:(C,b)=>{$();var m=g("Yes");e(C,m)},$$slots:{default:!0}});var S=s(k,2);ze(S,{class:"text-white font-bold w-full",onclick:()=>d(L,!1),children:(C,b)=>{$();var m=g("No");e(C,m)},$$slots:{default:!0}}),u(P),e($e,o)},$$slots:{default:!0}})}),e(i,X)},$$slots:{default:!0}})});var rt=s(Ge,2);n(rt,()=>ht,(t,p)=>{p(t,{get open(){return r(Me)},$$events:{openChange:i=>{d(ee,""),d(Me,z(i))}},children:(i,G)=>{var X=Z(),oe=h(X);n(oe,()=>xt,(be,ye)=>{ye(be,{children:($e,a)=>{var o=yr(),l=h(o);n(l,()=>bt,(b,m)=>{m(b,{class:"text-center",children:(te,se)=>{var Y=Z(),le=h(Y);n(le,()=>yt,(pe,ce)=>{ce(pe,{class:"flex flex-col gap-2 justify-center items-center text-center",children:(ge,_e)=>{$();var y=g("Reason");e(ge,y)},$$slots:{default:!0}})}),e(te,Y)},$$slots:{default:!0}})});var P=s(l,2),k=c(P);Oe(k,{placeholder:"Reason for disabling all categories",get value(){return r(ee)},set value(b){d(ee,z(b))}}),u(P);var S=s(P,2),C=c(S);ze(C,{onclick:()=>{H().mutate({active:!1,reason:r(ee)})},class:"text-white bg-green-700 w-[100px] hover:bg-green-800 font-bold",children:(b,m)=>{$();var te=g("Save");e(b,te)},$$slots:{default:!0}}),u(S),e($e,o)},$$slots:{default:!0}})}),e(i,X)},$$slots:{default:!0}})});var at=s(rt,2);n(at,()=>ht,(t,p)=>{p(t,{get open(){return r(ae)},$$events:{openChange:async i=>{d(ae,z(i)),i||window.location.reload(),await qt()}},children:(i,G)=>{var X=Z(),oe=h(X);n(oe,()=>xt,(be,ye)=>{ye(be,{class:"max-w-[400px]",children:($e,a)=>{var o=Tr(),l=h(o);n(l,()=>bt,(y,f)=>{f(y,{class:"text-center",children:(v,q)=>{var V=Z(),I=h(V);n(I,()=>yt,(O,D)=>{D(O,{class:"flex flex-col gap-2 justify-center items-center text-center",children:(R,he)=>{var M=Z(),K=h(M);{var Pe=A=>{var W=g();re(()=>ue(W,`This Category will be disabled for ${r(U)??2} days.`)),e(A,W)},we=A=>{var W=g();re(Ye=>ue(W,`This Category will be disabled until ${Ye??""}.`),[()=>it(r(U))]),e(A,W)};ie(K,A=>{r(E)==="date"?A(Pe):A(we,!1)})}e(R,M)},$$slots:{default:!0}})}),e(v,V)},$$slots:{default:!0}})});var P=s(l,2),k=c(P),S=c(k),C=c(S);Ne(C,{for:"Type",children:(y,f)=>{$();var v=g("Type");e(y,v)},$$slots:{default:!0}});var b=s(C,2);n(b,()=>Wt,(y,f)=>{f(y,{name:"type",type:"single",get value(){return r(E)},set value(v){d(E,z(v))},$$events:{valueChange:v=>d(E,z(v))},children:(v,q)=>{var V=Cr(),I=h(V);n(I,()=>Jt,(D,R)=>{R(D,{class:"",children:(he,M)=>{var K=Pr(),Pe=c(K,!0);u(K),re(()=>ue(Pe,r(E)?r(E):"Select Type")),e(he,K)},$$slots:{default:!0}})});var O=s(I,2);n(O,()=>Zt,(D,R)=>{R(D,{children:(he,M)=>{var K=Z(),Pe=h(K);n(Pe,()=>er,(we,A)=>{A(we,{children:(W,Ye)=>{var Ve=wr(),Ae=h(Ve);n(Ae,()=>jt,(ft,$t)=>{$t(ft,{value:"date",class:"capitalize",children:(pt,Nt)=>{$();var gt=g("Date");e(pt,gt)},$$slots:{default:!0}})});var mt=s(Ae,2);n(mt,()=>jt,(ft,$t)=>{$t(ft,{value:"time",class:"capitalize",children:(pt,Nt)=>{$();var gt=g("Time");e(pt,gt)},$$slots:{default:!0}})}),e(W,Ve)},$$slots:{default:!0}})}),e(he,K)},$$slots:{default:!0}})}),e(v,V)},$$slots:{default:!0}})}),u(S),u(k);var m=s(k,2),te=c(m),se=c(te);Ne(se,{for:"disabledUntil",children:(y,f)=>{$();var v=g("Disabled Until");e(y,v)},$$slots:{default:!0}});var Y=s(se,2);{var le=y=>{Oe(y,{id:"disabledUntil",type:"number",min:"2",max:"14",placeholder:"2 days",required:!0,get value(){return r(U)},set value(f){d(U,z(f))}})},pe=y=>{var f=Sr(),v=c(f);lr(v,{$$events:{change:q=>d(U,z(q.detail))}}),u(f),e(y,f)};ie(Y,y=>{r(E)==="date"?y(le):y(pe,!1)})}u(te),u(m),u(P);var ce=s(P,2),ge=c(ce);ze(ge,{class:"bg-white text-black font-bold w-full border-2 border-red-500 hover:bg-white",onclick:()=>{Te().mutate({id:r(xe),permanent:!1,disabledUntil:r(U)}),qt()},children:(y,f)=>{$();var v=g("Yes");e(y,v)},$$slots:{default:!0}});var _e=s(ge,2);ze(_e,{class:"text-white font-bold w-full",onclick:()=>{d(ae,!1),window.location.reload()},children:(y,f)=>{$();var v=g("No");e(y,v)},$$slots:{default:!0}}),u(ce),e($e,o)},$$slots:{default:!0}})}),e(i,X)},$$slots:{default:!0}})});var vt=s(at,2);{var Xe=t=>{var p=Je(()=>{var i,G;return((G=(i=w())==null?void 0:i.data)==null?void 0:G.total)||0});Vt(t,{get total(){return r(p)},get limit(){return me},get page(){return r(T)},callback:i=>{i!==r(T)&&(d(T,z(i)),w().refetch())}})};ie(vt,t=>{var p,i;!w().isLoading&&((i=(p=w())==null?void 0:p.data)==null?void 0:i.total)>0&&t(Xe)})}u(Qe),e(Ce,Qe),Tt(),Q()}zt(["click"]);var qr=x('<span class="invalid text-xs text-red-500"> </span>'),Ir=x('<span class="invalid text-xs text-red-500"> </span>'),jr=x('<span class="invalid text-xs text-red-500"> </span>'),Er=x('Category Image <span class="text-gray-500 text-xs">(69 X 69) ~ 200kb</span>',1),Ur=x('<p class="text-xs text-zinc-500">* Click to remove image</p>'),Dr=(Ce,N)=>N("home"),Rr=x('<div class="flex flex-col justify-center items-start gap-2 mt-2 hover:cursor-pointer hover:shadow-lg"><button><img class="w-[100px] h-[100px] object-cover rounded-md" alt="Category Image"></button></div>'),Ar=x('<div class="max-w-[80%] mx-auto text-maintext h-[calc(100vh-120px)] overflow-y-auto hidescrollbarthumb"><form method="POST" class="grid gap-4 py-4"><div><!> <!> <!></div> <div><!> <!> <!></div> <div><!> <!> <!></div> <div><!> <!></div> <!> <div class="flex gap-4"><!></div> <!></form></div>');function Fr(Ce,N){St(N,!0);const[j,Q]=kt(),w=()=>ve(N.categoryStore,"$categoryStore",j),_=()=>ve(L,"$form",j),Se=()=>ve(fe,"$createCategoryMutation",j),H=()=>ve(xe,"$errors",j),Te=()=>ve(Me,"$constraints",j);let B=ne(!1),F=ne(null),T=ne(null),me=null;Pt(()=>{d(B,z(!!(w().mode==="create"&&w().id))),r(B)&&w().image?d(T,z(w().image)):r(B)||(d(T,null),d(F,null)),me=document.getElementById("image")});const fe=lt({mutationFn:a=>r(B)?ke.put(`/productcategory/${w().id}`,a,{headers:{"Content-Type":"multipart/form-data"}}):ke.post("/productcategory/create",a,{headers:{"Content-Type":"multipart/form-data"}}),onSuccess({data:a}){st.refetchQueries({queryKey:["category fetch"]}),a.status?(Ee(N.categoryStore,J(w).mode="list",J(w)),ee(),d(F,null),d(T,null),U("home"),Mt("/hidden-admin-base-007/dashboard/categories?mode=list"),de(r(B)?"Category Updated ✅":"Category Created ✅")):de.error(a.message)},onError(a){console.error("Error:",a),de.error("An error occurred while processing your request.")}}),{form:L,errors:xe,enhance:ae,constraints:Me,reset:ee,validateForm:E}=nr(ir(Dt(Ft)),{SPA:!0,validationMethod:"oninput",validators:Dt(Ft),clearOnSubmit:"none",invalidateAll:!1,resetForm:!1,async onSubmit(){const{valid:a}=await E({focusOnError:!0});if(!a)return;if(!r(B)&&!r(F)){de.error("Image is required when creating a new category");return}let o=new FormData;o.append("name",_().name),o.append("code",_().code),o.append("description",_().description),r(F)&&o.append("image",r(F)),Se().mutate(o)}});Pt(()=>{r(B)?(Ee(L,J(_).name=w().name,J(_)),Ee(L,J(_).code=w().code,J(_)),Ee(L,J(_).description=w().description,J(_))):ee()});function U(a){a==="home"&&(d(F,null),d(T,null),me&&(me.value=""))}function Ke(a,o){var S;const P=(S=a.target.files)==null?void 0:S[0];if(!P)return;if(P.size>2e5){U(o),de.error("Image size is too large! Max size is 200kb");return}const k=new Image;k.src=URL.createObjectURL(P),k.onload=()=>{const{width:C,height:b}=k;if(C<69||b<69){de.error("Image dimensions must be at least 69x69 pixels."),U(o);return}d(F,z(P)),d(T,null)},k.onerror=()=>{U(o),de.error("Invalid image file.")}}var De=Ar(),qe=c(De),Re=c(qe),Ze=c(Re);Ne(Ze,{for:"name",children:(a,o)=>{$();var l=g("Category Name");e(a,l)},$$slots:{default:!0}});var et=s(Ze,2),nt=Je(()=>H().name?"true":void 0);Oe(et,_t({id:"name",class:"pr-10 mt-1",placeholder:"Ex:Surgical equipments,..",get"aria-invalid"(){return r(nt)}},()=>Te().name,{get value(){return _().name},set value(a){Ee(L,J(_).name=a,J(_))}}));var it=s(et,2);{var Qe=a=>{var o=qr(),l=c(o,!0);u(o),re(()=>ue(l,H().name)),e(a,o)};ie(it,a=>{H().name&&a(Qe)})}u(Re);var Ie=s(Re,2),He=c(Ie);Ne(He,{for:"code",children:(a,o)=>{$();var l=g("Category Code");e(a,l)},$$slots:{default:!0}});var Be=s(He,2),dt=Je(()=>H().code?"true":void 0);Oe(Be,_t({id:"code",class:"pr-10 mt-1",type:"number",placeholder:"Ex: 1001",get"aria-invalid"(){return r(dt)}},()=>Te().code,{get value(){return _().code},set value(a){Ee(L,J(_).code=a,J(_))}}));var ct=s(Be,2);{var ut=a=>{var o=Ir(),l=c(o,!0);u(o),re(()=>ue(l,H().code)),e(a,o)};ie(ct,a=>{H().code&&a(ut)})}u(Ie);var je=s(Ie,2),tt=c(je);Ne(tt,{for:"description",children:(a,o)=>{$();var l=g("Description");e(a,l)},$$slots:{default:!0}});var Ge=s(tt,2),rt=Je(()=>H().description?"true":void 0);cr(Ge,_t({id:"description",class:"pr-10 mt-1",placeholder:"Ex: All Kinds of equipments for your surgical needs..",rows:5,get"aria-invalid"(){return r(rt)}},()=>Te().description,{get value(){return _().description},set value(a){Ee(L,J(_).description=a,J(_))}}));var at=s(Ge,2);{var vt=a=>{var o=jr(),l=c(o,!0);u(o),re(()=>ue(l,H().description)),e(a,o)};ie(at,a=>{H().description&&a(vt)})}u(je);var Xe=s(je,2),t=c(Xe);Ne(t,{for:"image",children:(a,o)=>{$();var l=Er();$(),e(a,l)},$$slots:{default:!0}});var p=s(t,2),i=Je(()=>!r(B));Oe(p,{id:"image",get required(){return r(i)},class:"pr-10 mt-1",type:"file",accept:".jpg, .jpeg, .png, .webp",onchange:a=>Ke(a,"home")}),u(Xe);var G=s(Xe,2);{var X=a=>{var o=Ur();e(a,o)};ie(G,a=>{(r(F)||r(T))&&a(X)})}var oe=s(G,2),be=c(oe);{var ye=a=>{var o=Rr(),l=c(o);l.__click=[Dr,U];var P=c(l);u(l),u(o),re(k=>wt(P,"src",k),[()=>r(F)?URL.createObjectURL(r(F)):`${Ct}${r(T)}`]),e(a,o)};ie(be,a=>{(r(F)||r(T))&&a(ye)})}u(oe);var $e=s(oe,2);ze($e,{class:"w-[100px]",type:"submit",get disabled(){return Se().isPending},children:(a,o)=>{$();var l=g();re(()=>ue(l,r(B)?"Update":Se().isPending?"Creating...":"Create")),e(a,l)},$$slots:{default:!0}}),u(qe),dr(qe,a=>ae==null?void 0:ae(a)),u(De),e(Ce,De),Tt(),Q()}zt(["click"]);var Lr=x('<meta name="description" content="dashboard for kings chic.">'),zr=x('<!> <span class="ml-2">Category List</span>',1),Nr=x('<!> <span class="ml-2"> </span>',1),Or=x("<!> <!>",1),Kr=x("<!> <!> <!>",1);function Sa(Ce,N){St(N,!1);const[j,Q]=kt(),w=()=>ve(ot,"$categoryStore",j);Bt(),Ht(_=>{var Se=Lr();Qt.title="Dashboard | Manager",e(_,Se)}),Gt(Ce,{get value(){return w().mode},class:"w-full p-4",onValueChange:_=>{Mt(`/hidden-admin-base-007/dashboard/categories?mode=${_}`),Lt(ot,{code:0,name:"",description:"",id:"",mode:_,image:""})},children:(_,Se)=>{var H=Kr(),Te=h(H);ur(Te,{children:(T,me)=>{var fe=Or(),L=h(fe);Rt(L,{value:"list",class:"flex items-center",children:(ae,Me)=>{var ee=zr(),E=h(ee);Ue(E,{class:"w-4 h-4",icon:"tabler:table"}),$(2),e(ae,ee)},$$slots:{default:!0}});var xe=s(L,2);Rt(xe,{value:"create",children:(ae,Me)=>{var ee=Nr(),E=h(ee);Ue(E,{class:"w-4 h-4",icon:"mi:user-add"});var U=s(E,2),Ke=c(U);u(U),re(()=>ue(Ke,`${(w().mode=="create"&&w().id?"Edit":"Create")??""} Category`)),e(ae,ee)},$$slots:{default:!0}}),e(T,fe)},$$slots:{default:!0}});var B=s(Te,2);At(B,{value:"list",children:(T,me)=>{Mr(T,{categoryStore:ot})},$$slots:{default:!0}});var F=s(B,2);At(F,{value:"create",children:(T,me)=>{Fr(T,{categoryStore:ot})},$$slots:{default:!0}}),e(_,H)},$$slots:{default:!0}}),Tt(),Q()}export{Sa as component};
