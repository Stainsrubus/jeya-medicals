import"../chunks/Bg9kRutz.js";import{p as z,u as D,a as E,d as v,$ as H,n as K,s as g,c as h,g as n,b as _,f as y,r as $}from"../chunks/DUB8bsv0.js";import{h as L,a as o,t as r,c as U}from"../chunks/DzHOuBan.js";import{i as q,s as A,p as G,a as w}from"../chunks/DOmRzZIo.js";import{_ as x}from"../chunks/c3aSOx29.js";import{B as I}from"../chunks/CJvYq0KN.js";import{o as R}from"../chunks/CHqt2rTE.js";import{c as V}from"../chunks/B6Jqkcen.js";import{c as W}from"../chunks/Dw1g5TC4.js";var X=r('<meta name="description" content="dashboard for kings chic."> <link href="https://cdn.jsdelivr.net/npm/quill@2.0.2/dist/quill.snow.css" rel="stylesheet">',1),Y=r("<span>Save</span>"),Z=r("<span>Updating...</span>"),tt=r('<div id="editor" class="overflow-y-auto svelte-1ywnx0u"></div> <!>',1),at=r('<div><div class="w-[80%] mx-auto text-zinc-800 my-8 !font-pt"><h1 class="text-3xl font-bold py-3">Manage Terms and Conditions</h1> <!></div></div>');function mt(b,T){z(T,!0);const[p,C]=A(),i=()=>w(S,"$updateTerms",p),d=()=>w(k,"$query",p);async function M(){return await(await x.get("/termsandconditions")).data}const k=V({queryKey:["termsandconditions fetch"],queryFn:()=>M()}),S=W({mutationFn:t=>x.post("/termsandconditions/update",t)});let e=_(null),m=_(!0);R(()=>{const t=document.createElement("script");t.src="https://cdn.jsdelivr.net/npm/quill@2.0.2/dist/quill.js",v(m,!1),t.onload=()=>{v(e,G(new window.Quill("#editor",{theme:"snow"})))},document.body.appendChild(t)});function j(){if(n(e)){const t=n(e).root.innerHTML,a=JSON.stringify(n(e).getContents());i().mutate({content:t,delta:a})}}D(()=>{var t,a;n(e)&&d().data&&(a=(t=d().data)==null?void 0:t.data)!=null&&a.delta&&n(e).setContents(JSON.parse(d().data.data.delta))});var c=at();L(t=>{var a=X();H.title="Dashboard | Manager - Manage Terms and Conditions",K(2),o(t,a)});var u=h(c),P=g(h(u),2);{var B=t=>{var a=tt(),F=g(y(a),2);I(F,{class:"mt-4",get disabled(){return i().isPending},onclick:j,children:(J,et)=>{var f=U(),N=y(f);{var O=s=>{var l=Y();o(s,l)},Q=s=>{var l=Z();o(s,l)};q(N,s=>{i().isPending?s(Q,!1):s(O)})}o(J,f)},$$slots:{default:!0}}),o(t,a)};q(P,t=>{n(m)||t(B)})}$(u),$(c),o(b,c),E(),C()}export{mt as component};
