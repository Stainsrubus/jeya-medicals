var St=Object.defineProperty;var nt=t=>{throw TypeError(t)};var Dt=(t,e,s)=>e in t?St(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var Ne=(t,e,s)=>Dt(t,typeof e!="symbol"?e+"":e,s),tt=(t,e,s)=>e.has(t)||nt("Cannot "+s);var y=(t,e,s)=>(tt(t,e,"read from private field"),s?s.call(t):e.get(t)),D=(t,e,s)=>e.has(t)?nt("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,s),xe=(t,e,s,l)=>(tt(t,e,"write to private field"),l?l.call(t,s):e.set(t,s),s),rt=(t,e,s)=>(tt(t,e,"access private method"),s);import"../chunks/Bg9kRutz.js";import"../chunks/69_IOA4Y.js";import{T as Rt,aq as It,au as Mt,e as T,g as r,p as We,f as _,a as Ze,t as W,s as d,c as Z,ae as Ut,r as ee,b as Se,d as A,ad as zt,n as C,$ as At}from"../chunks/DUB8bsv0.js";import{c as j,a,t as F,b as P,h as Et}from"../chunks/DzHOuBan.js";import{R as Ot}from"../chunks/B_rXABv2.js";import{s as he}from"../chunks/3nqkJHLA.js";import{i as me,b as V,r as pt,l as Bt,c as gt,p as oe,s as Lt,a as it}from"../chunks/DOmRzZIo.js";import{e as jt,i as Ft}from"../chunks/DJVbMBk7.js";import{c as i}from"../chunks/yzD5jbIF.js";import{d as Ht}from"../chunks/DbFrp4aS.js";import{g as Jt}from"../chunks/CSUTd-D0.js";import{_ as lt}from"../chunks/c3aSOx29.js";import{P as Vt,T as dt}from"../chunks/BTrfwMzp.js";import{B as ct}from"../chunks/CJvYq0KN.js";import{c as ut,f as Gt}from"../chunks/C0h2pMUE.js";import{r as Kt,a as bt,b as ft}from"../chunks/BHIRq8YZ.js";import{a as Qt,s as Xt,c as Yt,u as Wt,b as ne,m as Zt,I as at}from"../chunks/CHPYNWro.js";import{w as ht,f as er,S as tr,m as rr,o as ar,e as sr,C as $t}from"../chunks/DFNEXU3v.js";import{i as or}from"../chunks/B06qfcxv.js";import{V as nr,C as ir}from"../chunks/DtNDSwVD.js";import{s as lr}from"../chunks/BvowKcCC.js";import{I as dr}from"../chunks/DK2xNAsc.js";import{R as cr,D as ur,a as fr,b as hr}from"../chunks/CeRZbImN.js";import{I as mt}from"../chunks/CJXCr1W0.js";import{L as vt}from"../chunks/DSP103xp.js";import{T as mr,a as vr,b as _t,c as ke,d as _r,e as ye}from"../chunks/4wux5xE3.js";import{T as pr}from"../chunks/B1uj5A9L.js";import{t as gr}from"../chunks/CF63kifO.js";import{c as br}from"../chunks/B6Jqkcen.js";import{c as $r}from"../chunks/Dw1g5TC4.js";import{D as xr}from"../chunks/zky0_XcF.js";const kr=[];function yr(t,e=!1){return Fe(t,new Map,"",kr)}function Fe(t,e,s,l,o=null){if(typeof t=="object"&&t!==null){var q=e.get(t);if(q!==void 0)return q;if(t instanceof Map)return new Map(t);if(t instanceof Set)return new Set(t);if(Rt(t)){var c=Array(t.length);e.set(t,c),o!==null&&e.set(o,c);for(var h=0;h<t.length;h+=1){var G=t[h];h in t&&(c[h]=Fe(G,e,s,l))}return c}if(It(t)===Mt){c={},e.set(t,c),o!==null&&e.set(o,c);for(var w in t)c[w]=Fe(t[w],e,s,l);return c}if(t instanceof Date)return structuredClone(t);if(typeof t.toJSON=="function")return Fe(t.toJSON(),e,s,l,t)}if(t instanceof EventTarget)return t;try{return structuredClone(t)}catch{return t}}const Pr="data-checkbox-root";var De,ze,Ae,Pe,Ee,Oe,He,Je,Ve,Be,st,Ge,Ke;class wr{constructor(e,s=null){D(this,Be);D(this,De);D(this,ze);D(this,Ae);Ne(this,"checked");D(this,Pe);D(this,Ee);D(this,Oe);Ne(this,"value");Ne(this,"indeterminate");Ne(this,"group",null);D(this,He,T(()=>this.group&&this.group.name.current?this.group.name.current:y(this,Oe).current));D(this,Je,T(()=>this.group&&this.group.required.current?!0:y(this,Ee).current));D(this,Ve,T(()=>this.group&&this.group.disabled.current?!0:y(this,Pe).current));D(this,Ge,T(()=>({checked:this.checked.current,indeterminate:this.indeterminate.current})));D(this,Ke,T(()=>({id:y(this,De).current,role:"checkbox",type:y(this,Ae).current,disabled:this.trueDisabled,"aria-checked":rr(this.checked.current,this.indeterminate.current),"aria-required":ar(this.trueRequired),"data-disabled":sr(this.trueDisabled),"data-state":Tr(this.checked.current,this.indeterminate.current),[Pr]:"",onclick:this.onclick,onkeydown:this.onkeydown})));this.checked=e.checked,xe(this,Pe,e.disabled),xe(this,Ee,e.required),xe(this,Oe,e.name),this.value=e.value,xe(this,ze,e.ref),xe(this,De,e.id),this.indeterminate=e.indeterminate,xe(this,Ae,e.type),this.group=s,this.onkeydown=this.onkeydown.bind(this),this.onclick=this.onclick.bind(this),Qt({id:y(this,De),ref:y(this,ze)}),ht([()=>{var l;return yr((l=this.group)==null?void 0:l.value.current)},()=>this.value.current],([l,o])=>{!l||!o||(this.checked.current=l.includes(o))}),ht(()=>this.checked.current,l=>{var o,q;this.group&&(l?(o=this.group)==null||o.addValue(this.value.current):(q=this.group)==null||q.removeValue(this.value.current))})}get trueName(){return r(y(this,He))}get trueRequired(){return r(y(this,Je))}get trueDisabled(){return r(y(this,Ve))}onkeydown(e){y(this,Pe).current||(e.key===er&&e.preventDefault(),e.key===tr&&(e.preventDefault(),rt(this,Be,st).call(this)))}onclick(e){y(this,Pe).current||rt(this,Be,st).call(this)}get snippetProps(){return r(y(this,Ge))}get props(){return r(y(this,Ke))}}De=new WeakMap,ze=new WeakMap,Ae=new WeakMap,Pe=new WeakMap,Ee=new WeakMap,Oe=new WeakMap,He=new WeakMap,Je=new WeakMap,Ve=new WeakMap,Be=new WeakSet,st=function(){this.indeterminate.current?(this.indeterminate.current=!1,this.checked.current=!0):this.checked.current=!this.checked.current},Ge=new WeakMap,Ke=new WeakMap;var Qe,Xe,Ye;class Cr{constructor(e){Ne(this,"root");D(this,Qe,T(()=>this.root.group?!!(this.root.value.current!==void 0&&this.root.group.value.current.includes(this.root.value.current)):this.root.checked.current));D(this,Xe,T(()=>!!this.root.trueName));D(this,Ye,T(()=>({type:"checkbox",checked:this.root.checked.current===!0,disabled:this.root.trueDisabled,required:this.root.trueRequired,name:this.root.trueName,value:this.root.value.current,"aria-hidden":"true",style:Xt(Yt)})));this.root=e}get trueChecked(){return r(y(this,Qe))}get shouldRender(){return r(y(this,Xe))}get props(){return r(y(this,Ye))}}Qe=new WeakMap,Xe=new WeakMap,Ye=new WeakMap;function Tr(t,e){return e?"indeterminate":t?"checked":"unchecked"}const qr=new $t("Checkbox.Group"),xt=new $t("Checkbox.Root");function Nr(t){return xt.set(new wr(t,qr.getOr(null)))}function Sr(){return new Cr(xt.get())}var Dr=F("<input>");function Rr(t,e){We(e,!1);const s=Sr();or();var l=j(),o=_(l);{var q=c=>{nr(c,{"aria-hidden":"true",children:(h,G)=>{var w=Dr();Kt(w);let m;W(()=>m=bt(w,m,{...s.props,type:"checkbox",style:"display: none !important;"})),a(h,w)},$$slots:{default:!0}})};me(o,c=>{s.shouldRender&&c(q)})}a(t,l),Ze()}var Ir=F("<button><!></button>"),Mr=F("<!> <!>",1);function Ur(t,e){We(e,!0);let s=V(e,"checked",15,!1),l=V(e,"ref",15,null),o=V(e,"disabled",3,!1),q=V(e,"required",3,!1),c=V(e,"name",3,void 0),h=V(e,"value",3,"on"),G=V(e,"id",19,Wt),w=V(e,"indeterminate",15,!1),m=V(e,"type",3,"button"),ie=pt(e,["$$slots","$$events","$$legacy","checked","ref","onCheckedChange","children","disabled","required","name","value","id","indeterminate","onIndeterminateChange","child","type"]);const te=Nr({checked:ne.with(()=>s(),v=>{var p;s(v),(p=e.onCheckedChange)==null||p.call(e,v)}),disabled:ne.with(()=>o()??!1),required:ne.with(()=>q()),name:ne.with(()=>c()),value:ne.with(()=>h()),id:ne.with(()=>G()),ref:ne.with(()=>l(),v=>l(v)),indeterminate:ne.with(()=>w(),v=>{var p;w(v),(p=e.onIndeterminateChange)==null||p.call(e,v)}),type:ne.with(()=>m())}),R=T(()=>Zt({...ie},te.props));var H=Mr(),le=_(H);{var Re=v=>{var p=j(),U=_(p);ft(U,()=>e.child,()=>({props:r(R),...te.snippetProps})),a(v,p)},ve=v=>{var p=Ir();let U;var we=Z(p);ft(we,()=>e.children??Ut,()=>te.snippetProps),ee(p),W(()=>U=bt(p,U,{...r(R)})),a(v,p)};me(le,v=>{e.child?v(Re):v(ve,!1)})}var Ie=d(le,2);Rr(Ie,{}),a(t,H),Ze()}function zr(t,e){const s=Bt(e,["children","$$slots","$$events","$$legacy"]);dr(t,gt({name:"minus"},()=>s,{iconNode:[["path",{d:"M5 12h14"}]],children:(o,q)=>{var c=j(),h=_(c);lr(h,e,"default",{},null),a(o,c)},$$slots:{default:!0}}))}var Ar=F('<div class="flex size-4 items-center justify-center text-current"><!></div>');function Er(t,e){We(e,!0);let s=V(e,"ref",15,null),l=V(e,"checked",15,!1),o=V(e,"indeterminate",15,!1),q=pt(e,["$$slots","$$events","$$legacy","ref","checked","indeterminate","class"]);var c=j(),h=_(c);const G=T(()=>ut("border-primary ring-offset-background focus-visible:ring-ring data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground peer box-content size-4 shrink-0 rounded-sm border focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[disabled=true]:cursor-not-allowed data-[disabled=true]:opacity-50",e.class));var w=T(()=>r(G));i(h,()=>Ur,(m,ie)=>{ie(m,gt({get class(){return r(w)}},()=>q,{get ref(){return s()},set ref(R){s(R)},get checked(){return l()},set checked(R){l(R)},get indeterminate(){return o()},set indeterminate(R){o(R)},children:(R,H)=>{let le=()=>H==null?void 0:H().checked,Re=()=>H==null?void 0:H().indeterminate;var ve=Ar(),Ie=Z(ve);{var v=U=>{zr(U,{class:"size-3.5"})},p=U=>{const we=T(()=>ut("size-3.5",!le()&&"text-transparent"));var Le=T(()=>r(we));ir(U,{get class(){return r(Le)}})};me(Ie,U=>{Re()?U(v):U(p,!1)})}ee(ve),a(R,ve)},$$slots:{default:!0}}))}),a(t,c),Ze()}var Or=F("<!> <span> </span>",1),Br=F("<!> <!> <!> <!> <!> <!> <!>",1),Lr=(t,e)=>{Jt(`/hidden-admin-base-007/dashboard/users/${r(e)._id}`)},jr=F('<button class="cursor-pointer capitalize underline underline-offset-4 text-primary font-bold"> </button>'),Fr=F("<!> <!> <!> <!> <!> <!> <!>",1),Hr=F("<!> <!> <!>",1),Jr=F('<div class="flex flex-col gap-3 my-4"><!> <!></div> <div class="flex flex-col gap-3 my-4"><!> <!></div> <!>',1),Vr=F("<!> <!>",1),Gr=F('<div class="mt-6 text-maintext w-[calc(100vw-420px)] font-pt mx-auto overflow-auto"><div class="flex items-center justify-end ml-auto mb-4 gap-4"><!> <div class="grid gap-2 relative"><!> <!></div></div> <div class="overflow-x-auto"><!></div> <!> <!></div>');function Kr(t,e){We(e,!0);const[s,l]=Lt(),o=()=>it(ve,"$query",s),q=()=>it(Ie,"$notificationMutation",s);async function c(n=10,E=1,u=""){return await(await lt.get(`/users/all?limit=${n}&page=${E}&q=${u}`)).data}let h=Se(1),G=8,w=Se(""),m=Se(oe([])),ie=Se(!1),te=Se(""),R=Se(""),H;function le(){clearTimeout(H),H=setTimeout(async()=>{await zt(),A(h,1),o().refetch()},500)}function Re(){q().mutate({title:r(te),message:r(R),users:r(m),type:r(m).length==0?"all":"selected"}),A(ie,!1)}const ve=br({queryKey:["users fetch",le],queryFn:()=>c(G,r(h),r(w))}),Ie=$r({mutationFn:n=>lt.post("/notification/massnotifications",n),onSuccess({data:n}){n&&n.status==200&&(gr.success("Notificaitons Sended"),A(te,""),A(R,""),A(m,oe([])))},onError(n,E,u){console.error("onError",n,E,u)}});var v=Gr(),p=Z(v),U=Z(p);ct(U,{get disabled(){return q().isPending},onclick:()=>A(ie,!0),class:" text-white",children:(n,E)=>{var u=j(),_e=_(u);{var de=K=>{var ce=P("Sending...");a(K,ce)},Ce=K=>{var ce=Or(),pe=_(ce);at(pe,{icon:"solar:bell-line-duotone"});var Me=d(pe,2),I=Z(Me,!0);ee(Me),W(()=>{var z;return he(I,r(m).length==0?(z=o().data)==null?void 0:z.total:r(m).length)}),a(K,ce)};me(_e,K=>{q().isPending?K(de):K(Ce,!1)})}a(n,u)},$$slots:{default:!0}});var we=d(U,2),Le=Z(we);mt(Le,{type:"text",required:!0,class:"pr-10 placeholder:text-zinc-500 text-zinc-700 min-w-[400px]",placeholder:"Search Users Name",oninput:le,get value(){return r(w)},set value(n){A(w,oe(n))}});var kt=d(Le,2);{var yt=n=>{at(n,{icon:"iconamoon:search",class:"absolute right-2 bottom-2.5 cursor-pointer text-gray-400 text-xl"})},Pt=n=>{at(n,{icon:"mdi:clear-outline",onclick:()=>{A(w,""),le()},class:"absolute right-2 bottom-2.5 cursor-pointer text-gray-400 text-xl"})};me(kt,n=>{r(w)?n(Pt,!1):n(yt)})}ee(we),ee(p);var et=d(p,2),wt=Z(et);i(wt,()=>mr,(n,E)=>{E(n,{children:(u,_e)=>{var de=Hr(),Ce=_(de);{var K=I=>{var z=j(),re=_(z);i(re,()=>dt,(ge,O)=>{O(ge,{children:(J,M)=>{C();var g=P("Loading....");a(J,g)},$$slots:{default:!0}})}),a(I,z)},ce=I=>{var z=j(),re=_(z);{var ge=O=>{var J=j(),M=_(J);i(M,()=>dt,(g,be)=>{be(g,{class:"text-center w-full text-xs",children:(ae,se)=>{C();var Q=P("No Users Found!");a(ae,Q)},$$slots:{default:!0}})}),a(O,J)};me(re,O=>{var J,M;((M=(J=o())==null?void 0:J.data)==null?void 0:M.total)===0&&O(ge)},!0)}a(I,z)};me(Ce,I=>{o().isLoading?I(K):I(ce,!1)})}var pe=d(Ce,2);i(pe,()=>vr,(I,z)=>{z(I,{children:(re,ge)=>{var O=j(),J=_(O);i(J,()=>_t,(M,g)=>{g(M,{children:(be,ae)=>{var se=Br(),Q=_(se);i(Q,()=>ke,(b,x)=>{x(b,{class:"w-[50px]"})});var Te=d(Q,2);i(Te,()=>ke,(b,x)=>{x(b,{class:"w-[100px]",children:(N,k)=>{C();var S=P("Sl.No");a(N,S)},$$slots:{default:!0}})});var X=d(Te,2);i(X,()=>ke,(b,x)=>{x(b,{children:(N,k)=>{C();var S=P("User Name");a(N,S)},$$slots:{default:!0}})});var Y=d(X,2);i(Y,()=>ke,(b,x)=>{x(b,{class:"cursor-pointer",children:(N,k)=>{C();var S=P("Mobile");a(N,S)},$$slots:{default:!0}})});var ue=d(Y,2);i(ue,()=>ke,(b,x)=>{x(b,{children:(N,k)=>{C();var S=P("Email");a(N,S)},$$slots:{default:!0}})});var $e=d(ue,2);i($e,()=>ke,(b,x)=>{x(b,{children:(N,k)=>{C();var S=P("Joined At");a(N,S)},$$slots:{default:!0}})});var fe=d($e,2);i(fe,()=>ke,(b,x)=>{x(b,{children:(N,k)=>{C();var S=P("Active");a(N,S)},$$slots:{default:!0}})}),a(be,se)},$$slots:{default:!0}})}),a(re,O)},$$slots:{default:!0}})});var Me=d(pe,2);i(Me,()=>_r,(I,z)=>{z(I,{children:(re,ge)=>{var O=j(),J=_(O);jt(J,1,()=>{var M;return((M=o().data)==null?void 0:M.users)||[]},Ft,(M,g,be)=>{var ae=j(),se=_(ae);i(se,()=>_t,(Q,Te)=>{Te(Q,{children:(X,Y)=>{var ue=Fr(),$e=_(ue);i($e,()=>ye,($,B)=>{B($,{children:(L,qe)=>{var f=T(()=>{var je;return!((je=r(g))!=null&&je.fcmToken)});const Ue=T(()=>r(m).includes(r(g)._id));var qt=T(()=>r(Ue));Er(L,{get disabled(){return r(f)},onCheckedChange:je=>{je?A(m,oe([...r(m),r(g)._id])):A(m,oe(r(m).filter(Nt=>Nt!==r(g)._id)))},get checked(){return r(qt)}})},$$slots:{default:!0}})});var fe=d($e,2);i(fe,()=>ye,($,B)=>{B($,{children:(L,qe)=>{C();var f=P();W(()=>he(f,be+1+(r(h)-1)*G)),a(L,f)},$$slots:{default:!0}})});var b=d(fe,2);i(b,()=>ye,($,B)=>{B($,{class:"capitalize ",children:(L,qe)=>{var f=jr();f.__click=[Lr,g];var Ue=Z(f,!0);ee(f),W(()=>he(Ue,r(g).username)),a(L,f)},$$slots:{default:!0}})});var x=d(b,2);i(x,()=>ye,($,B)=>{B($,{children:(L,qe)=>{C();var f=P();W(()=>he(f,r(g).mobile)),a(L,f)},$$slots:{default:!0}})});var N=d(x,2);i(N,()=>ye,($,B)=>{B($,{children:(L,qe)=>{C();var f=P();W(()=>he(f,r(g).email||"-")),a(L,f)},$$slots:{default:!0}})});var k=d(N,2);i(k,()=>ye,($,B)=>{B($,{children:(L,qe)=>{C();var f=P();W(Ue=>he(f,Ue),[()=>Gt(r(g).createdAt)]),a(L,f)},$$slots:{default:!0}})});var S=d(k,2);i(S,()=>ye,($,B)=>{B($,{children:(L,qe)=>{C();var f=P();W(()=>he(f,r(g).active?"Yes":"No")),a(L,f)},$$slots:{default:!0}})}),a(X,ue)},$$slots:{default:!0}})}),a(M,ae)}),a(re,O)},$$slots:{default:!0}})}),a(u,de)},$$slots:{default:!0}})}),ee(et);var ot=d(et,2);{var Ct=n=>{var E=T(()=>{var u,_e;return((_e=(u=o())==null?void 0:u.data)==null?void 0:_e.total)||0});Vt(n,{get total(){return r(E)},get limit(){return G},get page(){return r(h)},callback:u=>{u!==r(h)&&(A(h,oe(u)),o().refetch())}})};me(ot,n=>{var E,u;!o().isLoading&&((u=(E=o())==null?void 0:E.data)==null?void 0:u.total)>0&&n(Ct)})}var Tt=d(ot,2);i(Tt,()=>cr,(n,E)=>{E(n,{onOpenChange:u=>A(ie,oe(u)),get open(){return r(ie)},children:(u,_e)=>{var de=j(),Ce=_(de);i(Ce,()=>ur,(K,ce)=>{ce(K,{children:(pe,Me)=>{var I=j(),z=_(I);i(z,()=>fr,(re,ge)=>{ge(re,{children:(O,J)=>{var M=Vr(),g=_(M);i(g,()=>hr,(ae,se)=>{se(ae,{children:(Q,Te)=>{C();var X=P();W(()=>{var Y;return he(X,`Send Notification to ${(r(m).length==0?(Y=o().data)==null?void 0:Y.total:r(m).length)??""} Users`)}),a(Q,X)},$$slots:{default:!0}})});var be=d(g,2);i(be,()=>xr,(ae,se)=>{se(ae,{children:(Q,Te)=>{var X=Jr(),Y=_(X),ue=Z(Y);vt(ue,{for:"title",children:(k,S)=>{C();var $=P("Notification Title");a(k,$)},$$slots:{default:!0}});var $e=d(ue,2);mt($e,{type:"string",id:"title",placeholder:"Hey User! New offer for you",get value(){return r(te)},set value(k){A(te,oe(k))}}),ee(Y);var fe=d(Y,2),b=Z(fe);vt(b,{for:"message",children:(k,S)=>{C();var $=P("Notification Description");a(k,$)},$$slots:{default:!0}});var x=d(b,2);pr(x,{cols:20,rows:7,id:"message",placeholder:"Hey User! New offer for you",get value(){return r(R)},set value(k){A(R,oe(k))}}),ee(fe);var N=d(fe,2);ct(N,{onclick:Re,class:"",children:(k,S)=>{C();var $=P("Send");a(k,$)},$$slots:{default:!0}}),a(Q,X)},$$slots:{default:!0}})}),a(O,M)},$$slots:{default:!0}})}),a(pe,I)},$$slots:{default:!0}})}),a(u,de)},$$slots:{default:!0}})}),ee(v),a(t,v),Ze(),l()}Ht(["click"]);var Qr=F('<meta name="description" content="dashboard for kings chic.">');function qa(t){Et(e=>{var s=Qr();At.title="Dashboard | Users",a(e,s)}),Ot(t,{value:"list",class:"w-full p-4",children:(e,s)=>{Kr(e,{})},$$slots:{default:!0}})}export{qa as component};
