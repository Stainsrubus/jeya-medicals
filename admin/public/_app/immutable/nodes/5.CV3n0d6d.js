import"../chunks/Bg9kRutz.js";import"../chunks/69_IOA4Y.js";import{p as te,a as ee,s as l,g as a,d as tt,b as mt,ad as ae,c as et,f as m,r as at,t as R,n as i,e as ht,$ as re}from"../chunks/DUB8bsv0.js";import{a as t,t as F,c as D,b as u,h as se}from"../chunks/DzHOuBan.js";import{s as A}from"../chunks/3nqkJHLA.js";import{i as nt,s as oe,p as it,a as Ct}from"../chunks/DOmRzZIo.js";import{e as Dt,i as It}from"../chunks/DJVbMBk7.js";import{c as e}from"../chunks/yzD5jbIF.js";import{d as le}from"../chunks/DbFrp4aS.js";import{g as Rt}from"../chunks/CSUTd-D0.js";import{_ as zt}from"../chunks/c3aSOx29.js";import{P as ne,T as Bt}from"../chunks/BTrfwMzp.js";import{B as de}from"../chunks/MFwuplY0.js";import{B as ie}from"../chunks/CJvYq0KN.js";import{I as ue}from"../chunks/CJXCr1W0.js";import{R as ce,S as $e,a as ve,G as fe,b as Lt}from"../chunks/D12_SmHx.js";import{T as _e,a as pe,b as gt,c as M,d as me,e as G}from"../chunks/4wux5xE3.js";import{f as he,s as ge}from"../chunks/C0h2pMUE.js";import{I as xt}from"../chunks/CHPYNWro.js";import{c as Qt}from"../chunks/B6Jqkcen.js";var xe=F('<span class="capitalize"> </span>'),be=F("<!> <!>",1),Pe=F("<!> <!>",1),ye=F("<!> <!> <!> <!> <!> <!> <!>",1),we=(dt,rt)=>{var K;return Rt(`/hidden-admin-base-007/dashboard/users/${(K=a(rt))==null?void 0:K.userData._id}`)},Se=F('<button class="capitalize underline underline-offset-2 text-primary font-bold cursor-pointer"> </button>'),Te=F("<!> <!> <!> <!> <!> <!> <!>",1),ke=F("<!> <!> <!>",1),qe=F('<div class="mt-6 text-maintext w-[calc(100vw-420px)] font-pt mx-auto overflow-auto"><div class="flex items-center justify-end ml-auto mb-4 gap-4"><!> <div class="grid gap-2 relative"><!> <!></div> <!></div> <div class="overflow-x-auto h-[calc(100vh-250px)] overflow-y-auto hidescrollbarthumb"><!></div> <!></div>');function Oe(dt,rt){te(rt,!0);const[K,At]=oe(),h=()=>Ct(Kt,"$query",K),Ft=()=>Ct(Vt,"$statusCountQuery",K);async function Nt(r=10,T=1,d="",H=""){return await(await zt.get(`/orders/all?limit=${r}&page=${T}&q=${d}&status=${H}`)).data}async function Gt(){return await(await zt.get("/orders/ordercount")).data}let U=mt(1),ut=10,st=mt(""),E=mt(""),bt;function ct(){clearTimeout(bt),bt=setTimeout(async()=>{await ae(),tt(U,1),h().refetch()},500)}const Kt=Qt({queryKey:["orders fetch",ct],queryFn:()=>Nt(ut,a(U),a(st),a(E))}),Vt=Qt({queryKey:["orders statuscount"],queryFn:()=>Gt()});function jt(r){Rt(`/hidden-admin-base-007/dashboard/orders/${r}`)}function Mt(r){tt(E,it(r)),h().refetch()}var $t=qe(),vt=et($t),Pt=et(vt);e(Pt,()=>ce,(r,T)=>{T(r,{type:"single",onValueChange:d=>Mt(d),get value(){return a(E)},set value(d){tt(E,it(d))},children:(d,H)=>{var J=Pe(),W=m(J);e(W,()=>$e,(ot,X)=>{X(ot,{class:"w-[180px]",children:(lt,k)=>{var f=xe(),q=et(f,!0);at(f),R(()=>A(q,a(E)?a(E):"Select Status")),t(lt,f)},$$slots:{default:!0}})});var pt=l(W,2);e(pt,()=>ve,(ot,X)=>{X(ot,{children:(lt,k)=>{var f=D(),q=m(f);e(q,()=>fe,(V,x)=>{x(V,{children:(b,I)=>{var z=be(),P=m(z);e(P,()=>Lt,(g,c)=>{c(g,{value:"",class:"capitalize",children:(s,L)=>{i();var O=u();O.nodeValue="Select Status",t(s,O)},$$slots:{default:!0}})});var B=l(P,2);Dt(B,1,()=>{var g;return((g=Ft().data)==null?void 0:g.data)||[]},It,(g,c)=>{var s=D(),L=m(s);e(L,()=>Lt,(O,Q)=>{Q(O,{get value(){return a(c).status},class:"capitalize",children:(N,Y)=>{i();var n=u();R(()=>A(n,`${a(c).status??""} - (${a(c).count??""})`)),t(N,n)},$$slots:{default:!0}})}),t(g,s)}),t(b,z)},$$slots:{default:!0}})}),t(lt,f)},$$slots:{default:!0}})}),t(d,J)},$$slots:{default:!0}})});var ft=l(Pt,2),yt=et(ft);ue(yt,{type:"text",required:!0,class:"pr-10 min-w-[400px]",placeholder:"Search Orders",oninput:ct,get value(){return a(st)},set value(r){tt(st,it(r))}});var Ut=l(yt,2);{var Et=r=>{xt(r,{icon:"iconamoon:search",class:"absolute right-2 bottom-2.5 cursor-pointer text-gray-400 text-xl"})},Ht=r=>{xt(r,{icon:"mdi:clear-outline",onclick:()=>{tt(st,""),ct()},class:"absolute right-2 bottom-2.5 cursor-pointer text-gray-400 text-xl"})};nt(Ut,r=>{a(st)?r(Ht,!1):r(Et)})}at(ft);var Jt=l(ft,2);ie(Jt,{get disabled(){return h().isPending},onclick:()=>{h().refetch()},children:(r,T)=>{xt(r,{icon:"ic:round-refresh"})},$$slots:{default:!0}}),at(vt);var _t=l(vt,2),Wt=et(_t);e(Wt,()=>_e,(r,T)=>{T(r,{children:(d,H)=>{var J=ke(),W=m(J);{var pt=k=>{var f=D(),q=m(f);e(q,()=>Bt,(V,x)=>{x(V,{children:(b,I)=>{i();var z=u("Loading....");t(b,z)},$$slots:{default:!0}})}),t(k,f)},ot=k=>{var f=D(),q=m(f);{var V=x=>{var b=D(),I=m(b);e(I,()=>Bt,(z,P)=>{P(z,{class:"text-center w-full text-xs",children:(B,g)=>{i();var c=u("No Orders Found!");t(B,c)},$$slots:{default:!0}})}),t(x,b)};nt(q,x=>{var b,I;((I=(b=h())==null?void 0:b.data)==null?void 0:I.total)===0&&x(V)},!0)}t(k,f)};nt(W,k=>{h().isLoading||h().isRefetching?k(pt):k(ot,!1)})}var X=l(W,2);e(X,()=>pe,(k,f)=>{f(k,{children:(q,V)=>{var x=D(),b=m(x);e(b,()=>gt,(I,z)=>{z(I,{children:(P,B)=>{var g=ye(),c=m(g);e(c,()=>M,(n,_)=>{_(n,{class:"w-[100px]",children:($,C)=>{i();var p=u("Sl.No");t($,p)},$$slots:{default:!0}})});var s=l(c,2);e(s,()=>M,(n,_)=>{_(n,{class:"cursor-pointer",children:($,C)=>{i();var p=u("Order Id");t($,p)},$$slots:{default:!0}})});var L=l(s,2);e(L,()=>M,(n,_)=>{_(n,{children:($,C)=>{i();var p=u("User Name");t($,p)},$$slots:{default:!0}})});var O=l(L,2);e(O,()=>M,(n,_)=>{_(n,{children:($,C)=>{i();var p=u("Mobile");t($,p)},$$slots:{default:!0}})});var Q=l(O,2);e(Q,()=>M,(n,_)=>{_(n,{children:($,C)=>{i();var p=u("Ordered At");t($,p)},$$slots:{default:!0}})});var N=l(Q,2);e(N,()=>M,(n,_)=>{_(n,{children:($,C)=>{i();var p=u("Amount");t($,p)},$$slots:{default:!0}})});var Y=l(N,2);e(Y,()=>M,(n,_)=>{_(n,{children:($,C)=>{i();var p=u("Status");t($,p)},$$slots:{default:!0}})}),t(P,g)},$$slots:{default:!0}})}),t(q,x)},$$slots:{default:!0}})});var lt=l(X,2);e(lt,()=>me,(k,f)=>{f(k,{children:(q,V)=>{var x=D(),b=m(x);{var I=P=>{var B=D(),g=m(B);e(g,()=>gt,(c,s)=>{s(c,{children:(L,O)=>{var Q=D(),N=m(Q);e(N,()=>G,(Y,n)=>{n(Y,{colspan:6,children:(_,$)=>{i();var C=u("Loading....");t(_,C)},$$slots:{default:!0}})}),t(L,Q)},$$slots:{default:!0}})}),t(P,B)},z=P=>{var B=D(),g=m(B);Dt(g,1,()=>{var c;return((c=h().data)==null?void 0:c.orders)||[]},It,(c,s,L)=>{var O=D(),Q=m(O);e(Q,()=>gt,(N,Y)=>{Y(N,{children:(n,_)=>{var $=Te(),C=m($);e(C,()=>G,(y,w)=>{w(y,{children:(S,Z)=>{i();var o=u();R(()=>A(o,L+1+(a(U)-1)*ut)),t(S,o)},$$slots:{default:!0}})});var p=l(C,2);e(p,()=>G,(y,w)=>{w(y,{class:"cursor-pointer  underline underline-offset-4 text-primary font-bold",onclick:()=>jt(a(s)._id),children:(S,Z)=>{i();var o=u();R(()=>{var v;return A(o,(v=a(s))==null?void 0:v.orderId)}),t(S,o)},$$slots:{default:!0}})});var wt=l(p,2);e(wt,()=>G,(y,w)=>{w(y,{children:(S,Z)=>{var o=Se();o.__click=[we,s];var v=et(o,!0);at(o),R(()=>{var j;return A(v,(j=a(s))==null?void 0:j.userData.username)}),t(S,o)},$$slots:{default:!0}})});var St=l(wt,2);e(St,()=>G,(y,w)=>{w(y,{children:(S,Z)=>{i();var o=u();R(()=>{var v;return A(o,(v=a(s))==null?void 0:v.userData.mobile)}),t(S,o)},$$slots:{default:!0}})});var Tt=l(St,2);e(Tt,()=>G,(y,w)=>{w(y,{children:(S,Z)=>{i();var o=u();R(v=>A(o,v),[()=>{var v;return he(new Date((v=a(s))==null?void 0:v.createdAt).toISOString())}]),t(S,o)},$$slots:{default:!0}})});var kt=l(Tt,2);e(kt,()=>G,(y,w)=>{w(y,{children:(S,Z)=>{i();var o=u();R(()=>{var v;return A(o,`${((v=a(s))==null?void 0:v.totalPrice)-a(s).couponDiscount+a(s).deliveryPrice} â‚¹`)}),t(S,o)},$$slots:{default:!0}})});var Zt=l(kt,2);e(Zt,()=>G,(y,w)=>{w(y,{class:"capitalize",children:(S,Z)=>{const o=ht(()=>{var j;return ge((j=a(s))==null?void 0:j.status)});var v=ht(()=>a(o));de(S,{get class(){return a(v)},children:(j,De)=>{i();var qt=u();R(()=>{var Ot;return A(qt,(Ot=a(s))==null?void 0:Ot.status)}),t(j,qt)},$$slots:{default:!0}})},$$slots:{default:!0}})}),t(n,$)},$$slots:{default:!0}})}),t(c,O)}),t(P,B)};nt(b,P=>{h().isLoading||h().isRefetching?P(I):P(z,!1)})}t(q,x)},$$slots:{default:!0}})}),t(d,J)},$$slots:{default:!0}})}),at(_t);var Xt=l(_t,2);{var Yt=r=>{var T=ht(()=>{var d,H;return((H=(d=h())==null?void 0:d.data)==null?void 0:H.total)||0});ne(r,{get total(){return a(T)},get limit(){return ut},get page(){return a(U)},callback:d=>{d!==a(U)&&(tt(U,it(d)),h().refetch())}})};nt(Xt,r=>{var T,d;!h().isLoading&&((d=(T=h())==null?void 0:T.data)==null?void 0:d.total)>0&&r(Yt)})}at($t),t(dt,$t),ee(),At()}le(["click"]);var Ce=F('<meta name="description" content="dashboard for kings chic.">');function Ye(dt){se(rt=>{var K=Ce();re.title="Dashboard | Orders",t(rt,K)}),Oe(dt,{})}export{Ye as component};
