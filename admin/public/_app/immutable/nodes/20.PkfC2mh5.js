import"../chunks/Bg9kRutz.js";import{p as D,u as E,a as H,d as f,$ as K,n as L,s as y,c as g,g as o,b as h,f as _,r as P}from"../chunks/DUB8bsv0.js";import{h as T,a as r,t as n,c as U}from"../chunks/DzHOuBan.js";import{i as $,s as A,p as G,a as q}from"../chunks/DOmRzZIo.js";import{_ as w}from"../chunks/c3aSOx29.js";import{B as I}from"../chunks/CJvYq0KN.js";import{o as R}from"../chunks/CHqt2rTE.js";import{c as V}from"../chunks/B6Jqkcen.js";import{c as W}from"../chunks/Dw1g5TC4.js";var X=n('<meta name="description" content="dashboard for kings chic."> <link href="https://cdn.jsdelivr.net/npm/quill@2.0.2/dist/quill.snow.css" rel="stylesheet">',1),Y=n("<span>Save</span>"),Z=n("<span>Updating...</span>"),tt=n('<div id="editor" class="overflow-y-auto svelte-1ywnx0u"></div> <!>',1),at=n('<div><div class="w-[80%] mx-auto text-zinc-800 my-8 !font-pt"><h1 class="text-3xl font-bold py-3">Manage Privacy Policy</h1> <!></div></div>');function ut(x,b){D(b,!0);const[p,M]=A(),i=()=>q(j,"$updatePrivacyPolicy",p),c=()=>q(S,"$query",p);async function k(){return await(await w.get("/ppolicy")).data}const S=V({queryKey:["ppolicy fetch"],queryFn:()=>k()}),j=W({mutationFn:t=>w.post("/ppolicy/update",t)});let e=h(null),u=h(!0);R(()=>{const t=document.createElement("script");t.src="https://cdn.jsdelivr.net/npm/quill@2.0.2/dist/quill.js",f(u,!1),t.onload=()=>{f(e,G(new window.Quill("#editor",{theme:"snow"})))},document.body.appendChild(t)});function C(){if(o(e)){const t=o(e).root.innerHTML,a=JSON.stringify(o(e).getContents());i().mutate({content:t,delta:a})}}E(()=>{var t,a;o(e)&&c().data&&(a=(t=c().data)==null?void 0:t.data)!=null&&a.delta&&o(e).setContents(JSON.parse(c().data.data.delta))});var l=at();T(t=>{var a=X();K.title="Dashboard | Manager - Manage Privacy Policy",L(2),r(t,a)});var m=g(l),B=y(g(m),2);{var F=t=>{var a=tt(),J=y(_(a),2);I(J,{class:"mt-4",get disabled(){return i().isPending},onclick:C,children:(N,et)=>{var v=U(),O=_(v);{var Q=s=>{var d=Y();r(s,d)},z=s=>{var d=Z();r(s,d)};$(O,s=>{i().isPending?s(z,!1):s(Q)})}r(N,v)},$$slots:{default:!0}}),r(t,a)};$(B,t=>{o(u)||t(F)})}P(m),P(l),r(x,l),H(),M()}export{ut as component};
