import{b as N}from"./CHPYNWro.js";import{g as O,a as h}from"./BcUM-9gX.js";import{i as K}from"./LQpLIt8N.js";import{H as v,E as D,A as I,a as F,b as A,c as W}from"./DFNEXU3v.js";function k(e){const r=e.currentTabStopId?e.currentTabStopId:N(null);function u(){if(!K)return[];const t=document.getElementById(e.rootNodeId.current);return t?e.candidateSelector?Array.from(t.querySelectorAll(e.candidateSelector)):Array.from(t.querySelectorAll(`[${e.candidateAttr}]:not([data-disabled])`)):[]}function R(){var n;const t=u();t.length&&((n=t[0])==null||n.focus())}function b(t,n,d=!1){var g;const l=document.getElementById(e.rootNodeId.current);if(!l||!t)return;const c=u();if(!c.length)return;const a=c.indexOf(t),T=O(l),{nextKey:f,prevKey:m}=h(T,e.orientation.current),y=e.loop.current,s={[f]:a+1,[m]:a-1,[v]:0,[D]:c.length-1};if(d){const S=f===I?F:I,E=m===A?W:A;s[S]=a+1,s[E]=a-1}let i=s[n.key];if(i===void 0)return;n.preventDefault(),i<0&&y?i=c.length-1:i===c.length&&y&&(i=0);const o=c[i];if(o)return o.focus(),r.current=o.id,(g=e.onCandidateFocus)==null||g.call(e,o),o}function x(t){const n=u(),d=r.current!==null;return t&&!d&&n[0]===t?(r.current=t.id,0):(t==null?void 0:t.id)===r.current?0:-1}return{setCurrentTabStopId(t){r.current=t},getTabIndex:x,handleKeydown:b,focusFirstCandidate:R,currentTabStopId:r}}export{k as u};
