var nt=Object.defineProperty;var Ke=n=>{throw TypeError(n)};var rt=(n,e,t)=>e in n?nt(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var $=(n,e,t)=>rt(n,typeof e!="symbol"?e+"":e,t),Be=(n,e,t)=>e.has(n)||Ke("Cannot "+t);var s=(n,e,t)=>(Be(n,e,"read from private field"),t?t.call(n):e.get(n)),c=(n,e,t)=>e.has(n)?Ke("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),m=(n,e,t,r)=>(Be(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),be=(n,e,t)=>(Be(n,e,"access private method"),t);import"./Bg9kRutz.js";import{ad as st,b as O,u as j,d as b,g as a,e as xe,p as J,f as q,a as Q,ae as he,X as ze,a_ as it}from"./DUB8bsv0.js";import{c as X,a as z}from"./DzHOuBan.js";import{p as E,i as ot,b as p}from"./DOmRzZIo.js";import{b as me}from"./BHIRq8YZ.js";import{b as f,e as B,a as Ce,o as ut,u as Ge,d as ct}from"./CHPYNWro.js";import{p as T}from"./DbFrp4aS.js";import{w as N,n as w,x as at,T as lt}from"./DFNEXU3v.js";import{b as dt,d as ft,e as ht,a as Ee,S as mt,f as Ve,i as yt}from"./LQpLIt8N.js";function Re(n,e){return setTimeout(e,n)}function _e(n){st().then(n)}var ee,te;class vt{constructor(e){c(this,ee,O(void 0));c(this,te);j(()=>{b(s(this,ee),E(s(this,te))),m(this,te,e())})}get current(){return a(s(this,ee))}}ee=new WeakMap,te=new WeakMap;function bt(n,e){const t=f(n);function r(i){return e[t.current][i]??t.current}return{state:t,dispatch:i=>{t.current=r(i)}}}function pt(n,e){let t=O(E({})),r=O("none");const o=n.current?"mounted":"unmounted";let i=O(null);const d=new vt(()=>n.current);N([()=>e.current,()=>n.current],([h,_])=>{!h||!_||_e(()=>{b(i,E(document.getElementById(h)))})});const{state:l,dispatch:y}=bt(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});N(()=>n.current,h=>{if(a(i)||b(i,E(document.getElementById(e.current))),!a(i)||!(h!==d.current))return;const u=a(r),v=pe(a(i));h?y("MOUNT"):v==="none"||a(t).display==="none"?y("UNMOUNT"):y(d&&u!==v?"ANIMATION_OUT":"UNMOUNT")});function S(h){if(a(i)||b(i,E(document.getElementById(e.current))),!a(i))return;const _=pe(a(i)),u=_.includes(h.animationName)||_==="none";h.target===a(i)&&u&&y("ANIMATION_END")}function P(h){a(i)||b(i,E(document.getElementById(e.current))),a(i)&&h.target===a(i)&&b(r,E(pe(a(i))))}N(()=>l.current,()=>{if(a(i)||b(i,E(document.getElementById(e.current))),!a(i))return;const h=pe(a(i));b(r,E(l.current==="mounted"?h:"none"))}),N(()=>a(i),h=>{if(h)return b(t,E(getComputedStyle(h))),B(T(h,"animationstart",P),T(h,"animationcancel",S),T(h,"animationend",S))});const ye=xe(()=>["mounted","unmountSuspended"].includes(l.current));return{get current(){return a(ye)}}}function pe(n){return n&&getComputedStyle(n).animationName||"none"}function en(n,e){J(e,!0);const t=pt(f.with(()=>e.present),f.with(()=>e.id));var r=X(),o=q(r);{var i=d=>{var l=X(),y=q(l);me(y,()=>e.presence??he,()=>({present:t})),z(d,l)};ot(o,d=>{(e.forceMount||e.present||t.current)&&d(i)})}z(n,r),Q()}function Je(n,e,t,r){const o=Array.isArray(e)?e:[e];return o.forEach(i=>n.addEventListener(i,t,r)),()=>{o.forEach(i=>n.removeEventListener(i,t,r))}}class Qe{constructor(e,t={bubbles:!0,cancelable:!0}){$(this,"eventName");$(this,"options");this.eventName=e,this.options=t}createEvent(e){return new CustomEvent(this.eventName,{...this.options,detail:e})}dispatch(e,t){const r=this.createEvent(t);return e.dispatchEvent(r),r}listen(e,t){const r=o=>{t(o)};return T(e,this.eventName,r)}}function He(n,e=500){let t=null;const r=(...o)=>{t!==null&&clearTimeout(t),t=setTimeout(()=>{n(...o)},e)};return r.destroy=()=>{t!==null&&(clearTimeout(t),t=null)},r}function Ue(n,e){return n===e||n.contains(e)}function Ye(n){return(n==null?void 0:n.ownerDocument)??document}globalThis.bitsDismissableLayers??(globalThis.bitsDismissableLayers=new Map);var C,M,D,R,k,U,K,ne,re,se,L,we,G,Ze,Se,V,Te,Ne,Le,Oe,ie,$e,Pe,Ae;class gt{constructor(e){c(this,G);c(this,C);c(this,M);c(this,D,{pointerdown:!1});c(this,R,!1);$(this,"node",f(null));c(this,k);c(this,U);c(this,K,O(!1));c(this,ne);c(this,re,O(null));c(this,se);c(this,L,w);c(this,we,e=>{e.defaultPrevented||this.currNode&&_e(()=>{var t,r;!this.currNode||s(this,Oe).call(this,e.target)||e.target&&!a(s(this,K))&&((r=(t=s(this,ne)).current)==null||r.call(t,e))})});c(this,Se,e=>{let t=e;t.defaultPrevented&&(t=We(e)),s(this,C).current(e)});c(this,V,He(e=>{if(!this.currNode){s(this,L).call(this);return}const t=s(this,se).current(e,this.currNode)||Tt(e,this.currNode);if(!s(this,R)||be(this,G,$e).call(this)||!t){s(this,L).call(this);return}let r=e;if(r.defaultPrevented&&(r=We(r)),s(this,M).current!=="close"&&s(this,M).current!=="defer-otherwise-close"){s(this,L).call(this);return}e.pointerType==="touch"?(s(this,L).call(this),m(this,L,Je(s(this,k),"click",s(this,Se),{once:!0}))):s(this,C).current(r)},10));c(this,Te,e=>{s(this,D)[e.type]=!0});c(this,Ne,e=>{s(this,D)[e.type]=!1});c(this,Le,()=>{this.node.current&&m(this,R,St(this.node.current))});c(this,Oe,e=>this.node.current?Ue(this.node.current,e):!1);c(this,ie,He(()=>{for(const e in s(this,D))s(this,D)[e]=!1;m(this,R,!1)},20));c(this,Pe,()=>{b(s(this,K),!0)});c(this,Ae,()=>{b(s(this,K),!1)});$(this,"props",{onfocuscapture:s(this,Pe),onblurcapture:s(this,Ae)});m(this,U,e.enabled),m(this,se,e.isValidEvent),Ce({id:e.id,ref:this.node,deps:()=>s(this,U).current,onRefChange:o=>{this.currNode=o}}),m(this,M,e.interactOutsideBehavior),m(this,C,e.onInteractOutside),m(this,ne,e.onFocusOutside),j(()=>{m(this,k,Ye(this.currNode))});let t=w;const r=()=>{s(this,ie).call(this),globalThis.bitsDismissableLayers.delete(this),s(this,V).destroy(),t()};N([()=>s(this,U).current,()=>this.currNode],([o,i])=>{if(!(!o||!i))return Re(1,()=>{this.currNode&&(globalThis.bitsDismissableLayers.set(this,ze(()=>s(this,M))),t(),t=be(this,G,Ze).call(this))}),r}),ut(()=>{s(this,ie).destroy(),globalThis.bitsDismissableLayers.delete(this),s(this,V).destroy(),s(this,L).call(this),t()})}get currNode(){return a(s(this,re))}set currNode(e){b(s(this,re),E(e))}}C=new WeakMap,M=new WeakMap,D=new WeakMap,R=new WeakMap,k=new WeakMap,U=new WeakMap,K=new WeakMap,ne=new WeakMap,re=new WeakMap,se=new WeakMap,L=new WeakMap,we=new WeakMap,G=new WeakSet,Ze=function(){return B(T(s(this,k),"pointerdown",B(s(this,Te),s(this,Le)),{capture:!0}),T(s(this,k),"pointerdown",B(s(this,Ne),s(this,V))),T(s(this,k),"focusin",s(this,we)))},Se=new WeakMap,V=new WeakMap,Te=new WeakMap,Ne=new WeakMap,Le=new WeakMap,Oe=new WeakMap,ie=new WeakMap,$e=function(){return Object.values(s(this,D)).some(Boolean)},Pe=new WeakMap,Ae=new WeakMap;function Et(n){return new gt(n)}function wt(n){return n.findLast(([e,{current:t}])=>t==="close"||t==="ignore")}function St(n){const e=[...globalThis.bitsDismissableLayers],t=wt(e);if(t)return t[0].node.current===n;const[r]=e[0];return r.node.current===n}function Tt(n,e){if("button"in n&&n.button>0)return!1;const t=n.target;return dt(t)?Ye(t).documentElement.contains(t)&&!Ue(e,t):!1}function We(n){const e=n.currentTarget,t=n.target;let r;n instanceof PointerEvent?r=new PointerEvent(n.type,n):r=new PointerEvent("pointerdown",n);let o=!1;return new Proxy(r,{get:(d,l)=>l==="currentTarget"?e:l==="target"?t:l==="preventDefault"?()=>{o=!0,typeof d.preventDefault=="function"&&d.preventDefault()}:l==="defaultPrevented"?o:l in d?d[l]:n[l]})}function tn(n,e){J(e,!0);let t=p(e,"interactOutsideBehavior",3,"close"),r=p(e,"onInteractOutside",3,w),o=p(e,"onFocusOutside",3,w),i=p(e,"isValidEvent",3,()=>!1);const d=Et({id:f.with(()=>e.id),interactOutsideBehavior:f.with(()=>t()),onInteractOutside:f.with(()=>r()),enabled:f.with(()=>e.enabled),onFocusOutside:f.with(()=>o()),isValidEvent:f.with(()=>i())});var l=X(),y=q(l);me(y,()=>e.children??he,()=>({props:d.props})),z(n,l),Q()}globalThis.bitsEscapeLayers??(globalThis.bitsEscapeLayers=new Map);var oe,H,ue,Fe,Ie;class Nt{constructor(e){c(this,oe);c(this,H);c(this,ue);c(this,Fe,()=>T(document,"keydown",s(this,Ie),{passive:!1}));c(this,Ie,e=>{if(e.key!==at||!Ot(this))return;const t=new KeyboardEvent(e.type,e);e.preventDefault();const r=s(this,H).current;r!=="close"&&r!=="defer-otherwise-close"||s(this,oe).current(t)});m(this,H,e.escapeKeydownBehavior),m(this,oe,e.onEscapeKeydown),m(this,ue,e.enabled);let t=w;N(()=>s(this,ue).current,r=>(r&&(globalThis.bitsEscapeLayers.set(this,s(this,H)),t=s(this,Fe).call(this)),()=>{t(),globalThis.bitsEscapeLayers.delete(this)}))}}oe=new WeakMap,H=new WeakMap,ue=new WeakMap,Fe=new WeakMap,Ie=new WeakMap;function Lt(n){return new Nt(n)}function Ot(n){const e=[...globalThis.bitsEscapeLayers],t=e.findLast(([o,{current:i}])=>i==="close"||i==="ignore");if(t)return t[0]===n;const[r]=e[0];return r===n}function nn(n,e){J(e,!0);let t=p(e,"escapeKeydownBehavior",3,"close"),r=p(e,"onEscapeKeydown",3,w);Lt({escapeKeydownBehavior:f.with(()=>t()),onEscapeKeydown:f.with(()=>r()),enabled:f.with(()=>e.enabled)});var o=X(),i=q(o);me(i,()=>e.children??he),z(n,o),Q()}const Pt=f([]);function At(){const n=Pt;return{add(e){const t=n.current[0];e.id!==(t==null?void 0:t.id)&&(t==null||t.pause()),n.current=je(n.current,e),n.current.unshift(e)},remove(e){var t;n.current=je(n.current,e),(t=n.current[0])==null||t.resume()}}}function Ft(){let n=O(!1);return{id:Ge(),get paused(){return a(n)},pause(){b(n,!0)},resume(){b(n,!1)}}}function je(n,e){return[...n].filter(t=>t.id!==e.id)}function It(n){return n.filter(e=>e.tagName!=="A")}function I(n,{select:e=!1}={}){if(!(n&&n.focus))return;const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&ft(n)&&e&&n.select()}function Dt(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(I(r,{select:e}),document.activeElement!==t)return!0}function qe(n,e){for(const t of n)if(!ht(t,e))return t}function et(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function kt(n){const e=et(n),t=qe(e,n),r=qe(e.reverse(),n);return[t,r]}const xt=new Qe("focusScope.autoFocusOnMount",{bubbles:!1,cancelable:!0}),_t=new Qe("focusScope.autoFocusOnDestroy",{bubbles:!1,cancelable:!0});function Mt({id:n,loop:e,enabled:t,onOpenAutoFocus:r,onCloseAutoFocus:o,forceMount:i}){const d=At(),l=Ft(),y=f(null);Ce({id:n,ref:y,deps:()=>t.current});let S=O(null);N([()=>y.current,()=>t.current],([u,v])=>{if(!u||!v)return;const g=ve=>{if(l.paused||!u)return;const F=ve.target;Ee(F)&&(u.contains(F)?b(S,E(F)):I(a(S),{select:!0}))},A=ve=>{if(l.paused||!u)return;const F=ve.relatedTarget;Ee(F)&&F!==null&&(u.contains(F)||I(a(S),{select:!0}))},Y=ve=>{(u==null?void 0:u.contains(a(S)))||I(u)},Z=B(T(document,"focusin",g),T(document,"focusout",A)),Me=new MutationObserver(Y);return Me.observe(u,{childList:!0,subtree:!0}),()=>{Z(),Me.disconnect()}}),N([()=>i.current,()=>y.current],([u,v])=>{if(u)return;const g=document.activeElement;return P(v,g),()=>{v&&ye(g)}}),N([()=>i.current,()=>y.current,()=>t.current],([u,v])=>{if(!u)return;const g=document.activeElement;return P(v,g),()=>{v&&ye(g)}});function P(u,v){if(u||(u=document.getElementById(n.current)),!u)return;if(d.add(l),!u.contains(v)){const A=xt.createEvent();r.current(A),A.defaultPrevented||_e(()=>{u&&(Dt(It(et(u)),{select:!0}),document.activeElement===v&&I(u))})}}function ye(u){const v=_t.createEvent();o.current(v),Re(0,()=>{!v.defaultPrevented&&u&&I(u??document.body,{select:!0}),d.remove(l)})}function h(u){if(!t.current||!e.current&&!t.current||l.paused)return;const v=u.key===lt&&!u.ctrlKey&&!u.altKey&&!u.metaKey,g=document.activeElement;if(!(v&&g))return;const A=y.current;if(!A)return;const[Y,Z]=kt(A);Y&&Z?!u.shiftKey&&g===Z?(u.preventDefault(),e.current&&I(Y,{select:!0})):u.shiftKey&&g===Y&&(u.preventDefault(),e.current&&I(Z,{select:!0})):g===A&&u.preventDefault()}const _=xe(()=>({id:n.current,tabindex:-1,onkeydown:h}));return{get props(){return a(_)}}}function rn(n,e){J(e,!0);let t=p(e,"trapFocus",3,!1),r=p(e,"loop",3,!1),o=p(e,"onCloseAutoFocus",3,w),i=p(e,"onOpenAutoFocus",3,w),d=p(e,"forceMount",3,!1);const l=Mt({enabled:f.with(()=>t()),loop:f.with(()=>r()),onCloseAutoFocus:f.with(()=>o()),onOpenAutoFocus:f.with(()=>i()),id:f.with(()=>e.id),forceMount:f.with(()=>d())});var y=X(),S=q(y);me(S,()=>e.focusScope??he,()=>({props:l.props})),z(n,y),Q()}globalThis.bitsTextSelectionLayers??(globalThis.bitsTextSelectionLayers=new Map);var ce,ae,le,x,W,de,De,tt,ke,fe;class Bt{constructor(e){c(this,De);c(this,ce);c(this,ae);c(this,le);c(this,x);c(this,W,w);c(this,de,f(null));c(this,ke,e=>{const t=s(this,de).current,r=e.target;!Ee(t)||!Ee(r)||!s(this,x).current||!Ut(this)||!Ue(t,r)||(s(this,ae).current(e),!e.defaultPrevented&&m(this,W,Rt(t)))});c(this,fe,()=>{s(this,W).call(this),m(this,W,w)});m(this,ce,e.id),m(this,x,e.preventOverflowTextSelection),m(this,ae,e.onPointerDown),m(this,le,e.onPointerUp),Ce({id:s(this,ce),ref:s(this,de),deps:()=>s(this,x).current});let t=w;N(()=>s(this,x).current,r=>(r&&(globalThis.bitsTextSelectionLayers.set(this,s(this,x)),t(),t=be(this,De,tt).call(this)),()=>{t(),s(this,fe).call(this),globalThis.bitsTextSelectionLayers.delete(this)}))}}ce=new WeakMap,ae=new WeakMap,le=new WeakMap,x=new WeakMap,W=new WeakMap,de=new WeakMap,De=new WeakSet,tt=function(){return B(T(document,"pointerdown",s(this,ke)),T(document,"pointerup",ct(s(this,fe),s(this,le))))},ke=new WeakMap,fe=new WeakMap;function Ct(n){return new Bt(n)}const Xe=n=>n.style.userSelect||n.style.webkitUserSelect;function Rt(n){const e=document.body,t=Xe(e),r=Xe(n);return ge(e,"none"),ge(n,"text"),()=>{ge(e,t),ge(n,r)}}function ge(n,e){n.style.userSelect=e,n.style.webkitUserSelect=e}function Ut(n){const e=[...globalThis.bitsTextSelectionLayers];if(!e.length)return!1;const t=e.at(-1);return t?t[0]===n:!1}function sn(n,e){J(e,!0);let t=p(e,"preventOverflowTextSelection",3,!0),r=p(e,"onPointerDown",3,w),o=p(e,"onPointerUp",3,w);Ct({id:f.with(()=>e.id),preventOverflowTextSelection:f.with(()=>t()),onPointerDown:f.with(()=>r()),onPointerUp:f.with(()=>o()),enabled:f.with(()=>e.enabled)});var i=X(),d=q(i);me(d,()=>e.children??he),z(n,i),Q()}function Kt(n){let e=0,t=O(void 0),r;function o(){e-=1,r&&e<=0&&(r(),b(t,void 0),r=void 0)}return(...i)=>(e+=1,a(t)===void 0&&(r=it(()=>{b(t,E(n(...i)))})),j(()=>()=>{o()}),a(t))}const Vt=Kt(()=>{const n=new mt,e=xe(()=>{for(const i of n.values())if(i)return!0;return!1});let t=E({}),r=null;function o(){yt&&(document.body.style.paddingRight=t.paddingRight??"",document.body.style.marginRight=t.marginRight??"",document.body.style.pointerEvents=t.pointerEvents??"",document.body.style.removeProperty("--scrollbar-width"),document.body.style.overflow=t.overflow??"",Ve&&(r==null||r()))}return j(()=>{const i=a(e);return ze(()=>{if(!i)return;const d=getComputedStyle(document.body);t.overflow=d.overflow,t.paddingRight=d.paddingRight,t.marginRight=d.marginRight,t.pointerEvents=d.pointerEvents;const l=window.innerWidth-document.documentElement.clientWidth,S={padding:Number.parseInt(t.paddingRight??"0",10)+l,margin:Number.parseInt(t.marginRight??"0",10)};l>0&&(document.body.style.paddingRight=`${S.padding}px`,document.body.style.marginRight=`${S.margin}px`,document.body.style.setProperty("--scrollbar-width",`${l}px`),document.body.style.overflow="hidden"),Ve&&(r=Je(document,"touchmove",P=>{P.target===document.documentElement&&(P.touches.length>1||P.preventDefault())},{passive:!1})),_e(()=>{document.body.style.pointerEvents="none",document.body.style.overflow="hidden"})})}),j(()=>()=>{r==null||r()}),{get map(){return n},resetBodyStyle:o}});function Ht(n,e=()=>null){const t=Ge(),r=Vt(),o=xe(e);r.map.set(t,n??!1);const i=f.with(()=>r.map.get(t)??!1,d=>r.map.set(t,d));return j(()=>()=>{r.map.delete(t),!Wt(r.map)&&(a(o)===null?requestAnimationFrame(()=>r.resetBodyStyle()):Re(a(o),()=>r.resetBodyStyle()))}),i}function Wt(n){for(const[e,t]of n)if(t)return!0;return!1}function on(n,e){J(e,!0);let t=p(e,"preventScroll",3,!0),r=p(e,"restoreScrollDelay",3,null);Ht(t(),()=>r()),Q()}export{Qe as C,tn as D,nn as E,rn as F,en as P,on as S,sn as T,_e as a,vt as b,Dt as f};
