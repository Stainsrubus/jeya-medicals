import{k as C,a5 as L,x as O,ae as j,K as F,h as d,q as I,aq as R,ar as V,as as B,at as p}from"./DUB8bsv0.js";import{g as K,j as M,d as P,k as S,n as D,m as G,o as Y}from"./DbFrp4aS.js";function Z(s,r,...a){var i=s,o=j,u;C(()=>{o!==(o=r())&&(u&&(F(u),u=null),u=O(()=>o(i,...a)))},L),d&&(i=I)}function T(s){var r,a,i="";if(typeof s=="string"||typeof s=="number")i+=s;else if(typeof s=="object")if(Array.isArray(s)){var o=s.length;for(r=0;r<o;r++)s[r]&&(a=T(s[r]))&&(i&&(i+=" "),i+=a)}else for(a in s)s[a]&&(i&&(i+=" "),i+=a);return i}function H(){for(var s,r,a=0,i="",o=arguments.length;a<o;a++)(s=arguments[a])&&(r=T(s))&&(i&&(i+=" "),i+=r);return i}function J(s){return typeof s=="object"?H(s):s??""}function x(s){if(d){var r=!1,a=()=>{if(!r){if(r=!0,s.hasAttribute("value")){var i=s.value;y(s,"value",null),s.value=i}if(s.hasAttribute("checked")){var o=s.checked;y(s,"checked",null),s.checked=o}}};s.__on_r=a,B(a),G()}}function Q(s,r){r?s.hasAttribute("selected")||s.setAttribute("selected",""):s.removeAttribute("selected")}function y(s,r,a,i){var o=s.__attributes??(s.__attributes={});d&&(o[r]=s.getAttribute(r),r==="src"||r==="srcset"||r==="href"&&s.nodeName==="LINK")||o[r]!==(o[r]=a)&&(r==="style"&&"__styles"in s&&(s.__styles={}),r==="loading"&&(s[p]=a),a==null?s.removeAttribute(r):typeof a!="string"&&$(s).includes(r)?s[r]=a:s.setAttribute(r,a))}function m(s,r,a,i,o=!1,u=!1,U=!1){var _=r||{},g=s.tagName==="OPTION";for(var h in r)h in a||(a[h]=null);a.class&&(a.class=J(a.class)),i!==void 0&&(a.class=a.class?a.class+" "+i:i);var E=$(s),q=s.__attributes??(s.__attributes={});for(const f in a){let t=a[f];if(g&&f==="value"&&t==null){s.value=s.__value="",_[f]=t;continue}var A=_[f];if(t!==A){_[f]=t;var k=f[0]+f[1];if(k!=="$$"){if(k==="on"){const c={},v="$$"+f;let l=f.slice(2);var n=Y(l);if(K(l)&&(l=l.slice(0,-7),c.capture=!0),!n&&A){if(t!=null)continue;s.removeEventListener(l,_[v],c),_[v]=null}if(t!=null)if(n)s[`__${l}`]=t,P([l]);else{let w=function(z){_[f].call(this,z)};_[v]=M(l,s,w,c)}else n&&(s[`__${l}`]=void 0)}else if(f==="style"&&t!=null)s.style.cssText=t+"";else if(f==="autofocus")S(s,!!t);else if(f==="__value"||f==="value"&&t!=null)s.value=s[f]=s.__value=t;else if(f==="selected"&&g)Q(s,t);else{var e=f;o||(e=D(e));var b=e==="defaultValue"||e==="defaultChecked";if(t==null&&!u&&!b)if(q[f]=null,e==="value"||e==="checked"){let c=s;if(e==="value"){let v=c.defaultValue;c.removeAttribute(e),c.defaultValue=v}else{let v=c.defaultChecked;c.removeAttribute(e),c.defaultChecked=v}}else s.removeAttribute(f);else b||E.includes(e)&&(u||typeof t!="string")?s[e]=t:typeof t!="function"&&(d&&(e==="src"||e==="href"||e==="srcset")||y(s,e,t))}f==="style"&&"__styles"in s&&(s.__styles={})}}}return _}var N=new Map;function $(s){var r=N.get(s.nodeName);if(r)return r;N.set(s.nodeName,r=[]);for(var a,i=s,o=Element.prototype;o!==i;){a=V(i);for(var u in a)a[u].set&&r.push(u);i=R(i)}return r}function ss(s){if(!d&&s.loading==="lazy"){var r=s.src;s[p]=null,s.loading="eager",s.removeAttribute("src"),requestAnimationFrame(()=>{s[p]!=="eager"&&(s.loading="lazy"),s.src=r})}}export{m as a,Z as b,H as c,J as d,ss as h,x as r,y as s};
